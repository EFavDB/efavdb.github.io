<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>EFAVDB - methods</title><link href="http/" rel="alternate"></link><link href="http/feeds/methods.atom.xml" rel="self"></link><id>http/</id><updated>2014-10-23T23:52:00-07:00</updated><subtitle>Everybody's Favorite Data Blog</subtitle><entry><title>Data reduction by PCA</title><link href="http/data-reduction-by-pca.html" rel="alternate"></link><published>2014-10-23T23:52:00-07:00</published><updated>2014-10-23T23:52:00-07:00</updated><author><name>Dustin McIntosh</name></author><id>tag:None,2014-10-23:http/data-reduction-by-pca.html</id><summary type="html">&lt;p&gt;&lt;a href="http/wp-content/uploads/2014/10/evals.png"&gt;&lt;img alt="evals" src="http/wp-content/uploads/2014/10/evals.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Here, we characterize the data compression benefits of projection onto a subset of the eigenvectors of our traffic system’s covariance matrix.  We address this compression from two different perspectives:  First, we consider the partial traces of the covariance matrix, and second we present visual comparisons of the actual vs …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="http/wp-content/uploads/2014/10/evals.png"&gt;&lt;img alt="evals" src="http/wp-content/uploads/2014/10/evals.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Here, we characterize the data compression benefits of projection onto a subset of the eigenvectors of our traffic system’s covariance matrix.  We address this compression from two different perspectives:  First, we consider the partial traces of the covariance matrix, and second we present visual comparisons of the actual vs. projected traffic&amp;nbsp;plots.&lt;/p&gt;
&lt;p&gt;Partial traces:  From the footnote to our last post, we have &lt;span class="math"&gt;\(\text{Tr}(H^{-1}) \equiv $ $\sum_i e_i $\)&lt;/span&gt;= \sum_a \left (\delta v_a \right)^2&lt;span class="math"&gt;\(. That is, the trace of the covariance matrix tells us the net variance in our traffic system’s speed, summed over all loops. More generally\)&lt;/span&gt;^1&lt;span class="math"&gt;\(, the fraction of system variance contained within some subset of the modes is given by the eigenvalue sum over these modes, all divided by $\text{Tr}(H^{-1})\)&lt;/span&gt;.  The eigenvalues thus provide us with a simple method for quantifying the significance of any particular mode.  At right, is a log-log-plot of the fractional-variance-captured for each mode, ordered from largest to smallest (we also include analogous plots for the covariance matrix associated with just one week and one month&lt;span class="math"&gt;\(^2\)&lt;/span&gt;)  As shown, the eigenvalues decay like one over eigenvalue index at first, but eventually begin to decay much more quickly.   Only 5 modes are needed to capture 50% of the variance; 25 for 65%; 793 for&amp;nbsp;95%.&lt;/p&gt;
&lt;p&gt;Visualizations:  The above discussion suggests that the basic essence of a given set of traffic conditions is determined by only the first few modes, but that a large number might be needed to get correct all details.  We tested this conclusion by visually inspecting plots of projected traffic conditions (again, for Jan 15, at 5:30 pm), and comparing across number of modes retained.  The results are striking:  upon projecting the 2,000+ original features to only 25, minimal error appears to be introduced.  Further, the error that does occur tends to be highly localized to the particularly slow regions, where projected speeds are overestimates (&lt;em&gt;e.g.&lt;/em&gt;, the traffic jams east/south-bound out of Oakland).  Increasing the mode count to 100 or greater, these problem spots are quickly ameliorated, and the error is no longer systematic in slow regions (see&amp;nbsp;insets).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;See below for a slideshow of these results.&lt;/strong&gt;&lt;br&gt;
[slideshow_deploy id=&amp;#8216;116&amp;#8217;]&lt;br&gt;
//&lt;br&gt;
Conclusions:   The data provided by the &lt;span class="caps"&gt;PEMS&lt;/span&gt; system is highly redundant — as anticipated — in the sense that traffic conditions can be determined from far fewer measurements than it provides.  If other states wanted to replicate this system, they could probably get away with reducing the number of measures by at least one order of magnitude per mile of highway.  For our part, we intend to project our data onto the top 10% of the modes, or fewer:  We anticipate that this will provide minimal loss, but substantial&amp;nbsp;speedups.&lt;/p&gt;
&lt;p&gt;[1]  &lt;em&gt;Partial eigenvalue sums, physics perspective:  &lt;/em&gt;Consider suppressing all modes that you don’t want to include in a projection.  This can be done by setting the energies of these modes to &lt;span class="math"&gt;\(\infty\)&lt;/span&gt;, which will result in their corresponding &lt;span class="math"&gt;\(H^{-1}\)&lt;/span&gt;  eigenvalues going to zero.  When this altered system is thermally driven, its variance will again be given its covariance trace.  This altered system trace is precisely equal to the retained mode partial sum of the original&amp;nbsp;matrix.&lt;/p&gt;
&lt;p&gt;[2] &lt;em&gt;Sampling time dependence of covariance matrix:  &lt;/em&gt;The first figure above shows the mode variance ratio for the first 1000 principal components over three time scales: 1 week, 1 month, and 2014 year to date (~9.5 months).   Notice that the plots become more shallow given a longer sampling period. This is because the larger data sets exhibit a more diverse class of fluctuations, and more modes are needed to capture&amp;nbsp;these.&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="methods"></category><category term="traffic"></category></entry></feed>